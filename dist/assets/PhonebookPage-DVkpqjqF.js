import{g as J,a as Q,r as b,u as D,_ as N,b as u,j as a,c as z,d as I,e as E,s as p,f as X,k as tt,L as G,h as rt,i as ct,l as lt,B as dt,m as ut,n as P,o as k,p as A,q as gt,t as R,v as F,w as et,x as pt,P as ft,T as at,I as mt,y as xt,z as _,A as ht,C as vt,D as V,E as B,F as nt,G as bt}from"./index-CVGGWYjb.js";import{S as T}from"./Section-UgkkAY6h.js";import{u as W,I as O}from"./InputStyled-Bu9nfjQh.js";import{P as yt}from"./PersonAdd-NAwIdnj9.js";function Ct(t){return J("MuiCircularProgress",t)}Q("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const It=["className","color","disableShrink","size","style","thickness","value","variant"];let M=t=>t,U,q,w,H;const C=44,$t=tt(U||(U=M`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),jt=tt(q||(q=M`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),Lt=t=>{const{classes:e,variant:n,color:o,disableShrink:i}=t,s={root:["root",n,`color${I(o)}`],svg:["svg"],circle:["circle",`circle${I(n)}`,i&&"circleDisableShrink"]};return E(s,Ct,e)},Pt=p("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`color${I(n.color)}`]]}})(({ownerState:t,theme:e})=>u({display:"inline-block"},t.variant==="determinate"&&{transition:e.transitions.create("transform")},t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main}),({ownerState:t})=>t.variant==="indeterminate"&&X(w||(w=M`
      animation: ${0} 1.4s linear infinite;
    `),$t)),kt=p("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({display:"block"}),Bt=p("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.circle,e[`circle${I(n.variant)}`],n.disableShrink&&e.circleDisableShrink]}})(({ownerState:t,theme:e})=>u({stroke:"currentColor"},t.variant==="determinate"&&{transition:e.transitions.create("stroke-dashoffset")},t.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:t})=>t.variant==="indeterminate"&&!t.disableShrink&&X(H||(H=M`
      animation: ${0} 1.4s ease-in-out infinite;
    `),jt)),Rt=b.forwardRef(function(e,n){const o=D({props:e,name:"MuiCircularProgress"}),{className:i,color:s="primary",disableShrink:c=!1,size:l=40,style:f,thickness:d=3.6,value:m=0,variant:y="indeterminate"}=o,h=N(o,It),g=u({},o,{color:s,disableShrink:c,size:l,thickness:d,value:m,variant:y}),r=Lt(g),x={},j={},$={};if(y==="determinate"){const L=2*Math.PI*((C-d)/2);x.strokeDasharray=L.toFixed(3),$["aria-valuenow"]=Math.round(m),x.strokeDashoffset=`${((100-m)/100*L).toFixed(3)}px`,j.transform="rotate(-90deg)"}return a.jsx(Pt,u({className:z(r.root,i),style:u({width:l,height:l},j,f),ownerState:g,ref:n,role:"progressbar"},$,h,{children:a.jsx(kt,{className:r.svg,ownerState:g,viewBox:`${C/2} ${C/2} ${C} ${C}`,children:a.jsx(Bt,{className:r.circle,style:x,ownerState:g,cx:C,cy:C,r:(C-d)/2,fill:"none",strokeWidth:d})})}))}),Ft=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],Mt=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters]},St=t=>{const{alignItems:e,classes:n,dense:o,disabled:i,disableGutters:s,divider:c,selected:l}=t,d=E({root:["root",o&&"dense",!s&&"gutters",c&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",l&&"selected"]},lt,n);return u({},n,d)},zt=p(dt,{shouldForwardProp:t=>ut(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:Mt})(({theme:t,ownerState:e})=>u({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${P.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:k(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${P.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:k(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${P.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:k(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:k(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${P.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${P.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.alignItems==="flex-start"&&{alignItems:"flex-start"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.dense&&{paddingTop:4,paddingBottom:4})),Ot=b.forwardRef(function(e,n){const o=D({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:s=!1,component:c="div",children:l,dense:f=!1,disableGutters:d=!1,divider:m=!1,focusVisibleClassName:y,selected:h=!1,className:g}=o,r=N(o,Ft),x=b.useContext(G),j=b.useMemo(()=>({dense:f||x.dense||!1,alignItems:i,disableGutters:d}),[i,x.dense,f,d]),$=b.useRef(null);rt(()=>{s&&$.current&&$.current.focus()},[s]);const L=u({},o,{alignItems:i,dense:j.dense,disableGutters:d,divider:m,selected:h}),S=St(L),it=ct($,n);return a.jsx(G.Provider,{value:j,children:a.jsx(zt,u({ref:it,href:r.href||r.to,component:(r.href||r.to)&&c==="div"?"button":c,focusVisibleClassName:z(S.focusVisible,y),ownerState:L,className:z(S.root,g)},r,{classes:S,children:l}))})}),Dt=A(a.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),Nt=A(a.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit"),Et=A(a.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v1c0 .55.45 1 1 1h14c.55 0 1-.45 1-1v-1c0-2.66-5.33-4-8-4z"}),"PersonRounded");function At(){const{state:t,setState:e,handleChange:n}=W(""),{state:o,setState:i,handleChange:s}=W(""),[c,{isLoading:l}]=gt(),{data:f}=R("",{refetchOnFocus:!0,refetchOnReconnect:!0}),d=y=>{y.preventDefault();const h={name:t,number:o},g=h.name;if(f?.some(r=>r.name===g)){alert(`${g} is already in your contacts`);return}c(h),m()},m=()=>{e(""),i("")};return a.jsxs(F,{component:"form",onSubmit:d,sx:{display:"flex",flexDirection:"column",gap:2,width:"100%"},children:[a.jsx(O,{type:"text",label:"Name",variant:"outlined",value:t,onChange:n,maxLength:30,pattern:"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0}),a.jsx(O,{type:"tel",label:"number",variant:"outlined",value:o,maxLength:17,onChange:s,pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits, contain spaces, dashes, parentheses and start with +",required:!0}),a.jsxs(et,{type:"submit",variant:"contained",sx:{gap:1,fontFamily:"Montserrat",color:"var(--text)",backgroundColor:"var(--btn-bg)",fontWeight:"700"},children:[l?"Addition...":"Add contact",a.jsx(yt,{color:"inherit"})]})]})}const ot=t=>t.filter;function _t(t){return J("MuiLoadingButton",t)}const v=Q("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),Vt=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],Gt=t=>{const{loading:e,loadingPosition:n,classes:o}=t,i={root:["root",e&&"loading"],startIcon:[e&&`startIconLoading${I(n)}`],endIcon:[e&&`endIconLoading${I(n)}`],loadingIndicator:["loadingIndicator",e&&`loadingIndicator${I(n)}`]},s=E(i,_t,o);return u({},o,s)},Tt=t=>t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"&&t!=="classes",Wt=p(et,{shouldForwardProp:t=>Tt(t)||t==="classes",name:"MuiLoadingButton",slot:"Root",overridesResolver:(t,e)=>[e.root,e.startIconLoadingStart&&{[`& .${v.startIconLoadingStart}`]:e.startIconLoadingStart},e.endIconLoadingEnd&&{[`& .${v.endIconLoadingEnd}`]:e.endIconLoadingEnd}]})(({ownerState:t,theme:e})=>u({[`& .${v.startIconLoadingStart}, & .${v.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},t.loadingPosition==="center"&&{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${v.loading}`]:{color:"transparent"}},t.loadingPosition==="start"&&t.fullWidth&&{[`& .${v.startIconLoadingStart}, & .${v.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0,marginRight:-8}},t.loadingPosition==="end"&&t.fullWidth&&{[`& .${v.startIconLoadingStart}, & .${v.endIconLoadingEnd}`]:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0,marginLeft:-8}})),Z=p("div",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.loadingIndicator,e[`loadingIndicator${I(n.loadingPosition)}`]]}})(({theme:t,ownerState:e})=>u({position:"absolute",visibility:"visible",display:"flex"},e.loadingPosition==="start"&&(e.variant==="outlined"||e.variant==="contained")&&{left:e.size==="small"?10:14},e.loadingPosition==="start"&&e.variant==="text"&&{left:6},e.loadingPosition==="center"&&{left:"50%",transform:"translate(-50%)",color:t.palette.action.disabled},e.loadingPosition==="end"&&(e.variant==="outlined"||e.variant==="contained")&&{right:e.size==="small"?10:14},e.loadingPosition==="end"&&e.variant==="text"&&{right:6},e.loadingPosition==="start"&&e.fullWidth&&{position:"relative",left:-10},e.loadingPosition==="end"&&e.fullWidth&&{position:"relative",right:-10})),Ut=b.forwardRef(function(e,n){const o=D({props:e,name:"MuiLoadingButton"}),{children:i,disabled:s=!1,id:c,loading:l=!1,loadingIndicator:f,loadingPosition:d="center",variant:m="text"}=o,y=N(o,Vt),h=pt(c),g=f??a.jsx(Rt,{"aria-labelledby":h,color:"inherit",size:16}),r=u({},o,{disabled:s,loading:l,loadingIndicator:g,loadingPosition:d,variant:m}),x=Gt(r);return a.jsx(Wt,u({disabled:s||l,id:h,ref:n},y,{variant:m,classes:x,ownerState:r,children:r.loadingPosition==="end"?a.jsxs(b.Fragment,{children:[i,l&&a.jsx(Z,{className:x.loadingIndicator,ownerState:r,children:g})]}):a.jsxs(b.Fragment,{children:[l&&a.jsx(Z,{className:x.loadingIndicator,ownerState:r,children:g}),i]})}))}),qt=p(ft)`
  display: flex;
  /* justify-content: space-between; */
  padding: 0.6rem;
  background: transparent;
  font-family: "Montserrat";
  color: var(--text);

  @media all and (min-width: ${({theme:t})=>t.breakpoints.md}) {
    padding: 0.8rem;
  }
`,wt=p(F)`
  display: flex;
  align-items: center;
  gap: 0.8rem;
`,K=p(at)`
  font-family: "Montserrat";
  font-size: 0.85rem;
`,Ht=p(Ot)`
  display: flex;
  flex-direction: row;
  justify-content: flex-end;
  gap: 0.7rem;

  @media all and (min-width: ${({theme:t})=>t.breakpoints.md}) {
    padding: 0.5rem;
  }
`,Y=p(mt)({padding:"1",color:"var(--text)",tabSize:"medium"});function st({contactData:t}){const[e,{isLoading:n}]=xt(),o=_(),i=c=>{o(ht(c)),o(vt())},s=c=>{e(c),o(V(""))};return a.jsxs(qt,{elevation:2,children:[a.jsxs(wt,{children:[a.jsx(Et,{}),a.jsx(K,{children:t.name}),a.jsx(K,{children:t.number})]}),a.jsxs(Ht,{children:[a.jsx(Y,{"aria-label":"edit",type:"button",onClick:()=>i(t),children:a.jsx(Nt,{})}),n?a.jsx(Ut,{loading:!0,variant:"outlined",children:"Submit"}):a.jsx(Y,{"aria-label":"delete",type:"button",onClick:()=>s(t.id),children:a.jsx(Dt,{})})]})]})}st.propTypes={contactData:B.shape({name:B.string.isRequired,number:B.string.isRequired,id:B.string.isRequired})};function Zt(){const{data:t}=R("",{refetchOnReconnect:!0,refetchOnMountOrArgChange:!0}),e=_(),n=nt(ot),i=(()=>{const s=n?.toLowerCase();return n?t?.filter(c=>c.name.toLowerCase().includes(s)):t})();return b.useEffect(()=>{t?.length===0&&e(V(""))},[t,e]),a.jsx(F,{component:"ul",sx:{display:"flex",flexDirection:"column",gap:2,marginTop:2},children:i?.map(s=>a.jsx(st,{contactData:s},s.id))})}function Kt(){const{data:t}=R("",{refetchOnFocus:!0,refetchOnReconnect:!0}),e=nt(ot),n=_(),o=i=>{const s=i.target.value;n(V(s))};return a.jsx(a.Fragment,{children:t?.length?a.jsx(O,{type:"text",name:"filter",label:"Find contact by name",fullWidth:!0,value:e,autoFocus:!0,onChange:o}):a.jsx(at,{variant:"p",fontFamily:"Montserrat",fontSize:"1rem",color:"var(--text)",children:"You haven't added any contact yet..."})})}const Yt=p(F)`
  display: flex;
  flex-direction: column;
  height: 100vh;

  @media all and (min-width: ${({theme:t})=>t.breakpoints.md}) {
    display: flex;
    justify-content: center;
    flex-direction: row;
  }
`;function ee(){const{isFetching:t}=R();return a.jsx(a.Fragment,{children:a.jsxs(Yt,{children:[a.jsx(T,{title:"Add new contact.",isHidden:!1,children:a.jsx(At,{})}),a.jsxs(T,{title:"Your contacts.",isHidden:!1,children:[t?a.jsx(bt,{}):a.jsx(Kt,{}),a.jsx(Zt,{})]})]})})}export{ee as default};
